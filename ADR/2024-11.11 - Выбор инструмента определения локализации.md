# Выбор способа определения локализации в приложении

**Дата:** 12 декабря 2024 г.  
**Статус:** Принято

## Контекст

Для разработки клиентского приложения системы онлайн консультаций необходимо выбрать подходящий способ определения локализации (языка) (L10N01) пользователя. Этот выбор будет влиять на пользовательский опыт, доступность контента и общую удовлетворенность пользователей.

## Рассмотренные варианты

- Для веб-приложения - определение языка на основе настроек браузера.
- Для мобильного приложения - определение языка на основе настроек устройства.
- Определение языка на основе IP-адреса.
- Позволить пользователю выбрать язык вручную.
- Для веб-приложения - использование куки для сохранения выбранного языка, для мобильного приложения - использование локального хранилища для сохранения выбранного языка.

## Решение

Для веб-приложения выбран способ определения языка на основе настроек браузера пользователя с возможностью сохранения выбранного языка в куки (для десктопа веб-приложения) и для мобильного приложения на основе настроек устройства пользователя с возможностью сохранения выбранного языка в локальном хранилище.

## Обоснование

- **Автоматизация и удобство:** Определение языка на основе настроек браузера или настроек устройства позволяет автоматически адаптировать интерфейс приложения к предпочтениям пользователя, что значительно улучшает пользовательский опыт.
- **Сохранение выбора:** Использование куки или локального хранилища для хранения выбранного языка позволяет пользователю сохранить свои предпочтения между сессиями, что делает взаимодействие с приложением более персонализированным.
- **Стандартный подход:** Метод определения языка через заголовок Accept-Language является общепринятым и поддерживается всеми современными браузерами, что обеспечивает высокую степень совместимости.
- **Гибкость:** В случае, если язык не поддерживается, приложение может автоматически переключаться на язык по умолчанию, что обеспечивает бесперебойную работу.

## Последствия

### Положительные

- Улучшение пользовательского опыта за счет автоматического определения языка и сохранения выбора.
- Снижение количества ошибок и недоразумений, связанных с языковыми настройками.
- Упрощение процесса локализации, так как приложение будет автоматически адаптироваться к языковым предпочтениям пользователей.

### Отрицательные

- Возможные проблемы с точностью определения языка, если пользователь использует VPN или прокси-серверы, что может привести к неправильной локализации.
- Необходимость предоставления пользователю возможности вручную изменить язык, если автоматическое определение не соответствует его предпочтениям.
- Увеличение сложности реализации из-за необходимости работы с куки и управления ими.
